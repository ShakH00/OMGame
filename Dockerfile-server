# Made by Sultan Amrani and Nova Driscoll
# GitHub Copilot used to assist in writing this Dockerfile
FROM openjdk:23
WORKDIR /app

# Copy the JavaFX SDK
COPY ~/javafx-sdk-24/lib /app/javafx-sdk-24/lib

COPY ./src/ .
EXPOSE 30001

# Compile with JavaFX
RUN mkdir build && javac --module-path /app/javafx-sdk-24/lib --add-modules javafx.controls,javafx.fxml -d build networking/Server.java

# Run with JavaFX
ENTRYPOINT ["java", "--module-path", "/app/javafx-sdk-24/lib", "--add-modules", "javafx.controls,javafx.fxml", "-cp", "build", "networking.Server"]