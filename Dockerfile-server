# Made by Sultan Amrani and Nova Driscoll
# GitHub Copilot used to assist in writing this Dockerfile
FROM openjdk:23

# Copy source code
COPY ./src/ .
# Copy the JavaFX SDK
COPY ./lib ./lib/.
EXPOSE 30001

# Compile with JavaFX
RUN mkdir build && javac --module-path ./lib --add-modules javafx.controls,javafx.fxml -d build networking/Server.java

# Run with JavaFX
ENTRYPOINT ["java", "--module-path", "./lib", "--add-modules", "javafx.controls,javafx.fxml", "-cp", "build", "networking.Server"]